<html>
    <head>
        <title>Micro Server</title>
        <script>
            const eventSource = new EventSource("/events");

            // truly how the event source can receive message
            eventSource.addEventListener('events', function (event) {
                console.log('event hit', event);
                console.log("New message:", event.data);
                // document.body.innerHTML += `<p>${event.data}</p>`;
            });

            eventSource.onmessage = function (event) {
                console.log('event hit', event);
                console.log("New message:", event.data);
                // document.body.innerHTML += `<p>${event.data}</p>`;
            };

            eventSource.onerror = function (err) {
                console.log("error hit: ", err);
                console.log("SSE connection lost, retrying...");
            };
        </script>
    </head>
    <body>
        <h1>Welcome to Micro Server</h1>
        <a href="/">HOME</a>
    </body>
</html>